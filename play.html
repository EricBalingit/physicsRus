<!doctype html>
<html>
<head>
  <meta name="Author" content="Ju-Hyung Lee, jufoot@gmail.com" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <!--<link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />-->
  <link rel="apple-touch-icon-precomposed" href="img/apple-touch-icon-precomposed.png" />
  <!--<link rel="apple-touch-startup-image" href="img/startup-ipad-portrait.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px)" />
  <link rel="apple-touch-startup-image" href="img/startup.png" media="screen and (max-device-width: 320px)" />-->
  <!--<link rel="stylesheet" href="css/bootstrap.css" />-->
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/button.css" />
  <link rel="stylesheet" href="css/add2home.css" />    
  <title>RigidDyn2D</title>  

  <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>-->   
  <script src="lib/json2.js"></script>
  <script src="lib/add2home.js"></script>  
  <script src="lib/color.js"></script>
  <script src="src/base.js"></script>
  <script src="src/math.js"></script>
  <script src="src/util.js"></script>
  <script src="src/collision.js"></script>
  <script src="src/body.js"></script>
  <script src="src/joint.js"></script>
  <script src="src/joint_angle.js"></script>
  <script src="src/joint_distance.js"></script>
  <script src="src/joint_revolute.js"></script>
  <script src="src/joint_weld.js"></script>
  <script src="src/joint_line.js"></script>
  <script src="src/joint_prismatic.js"></script>
  <script src="src/joint_mouse.js"></script>
  <script src="src/shape.js"></script>
  <script src="src/shape_circle.js"></script>
  <script src="src/shape_segment.js"></script>
  <script src="src/shape_poly.js"></script>
  <script src="src/contact.js"></script>
  <script src="src/contactsolver.js"></script>  
  <script src="src/space.js"></script>  
  <script src="src/demo_car.js"></script>
  <script src="src/demo_ragdoll.js"></script>
  <script src="src/demo_seesaw.js"></script>
  <script src="src/demo_pyramid.js"></script>
  <script src="src/demo_crank.js"></script>
  <script src="src/demo_rope.js"></script>
  <script src="src/demo_web.js"></script>
  <script src="src/demo_bounce.js"></script>
  <script src="src/renderer_canvas.js"></script>
  <script src="src/renderer_webgl.js"></script>
  <script src="src/app.js"></script>
</head>

<body> 
  <div id="toolbar">
    <span class="combo">
      <label for="scene">Scene: </label><select id="scene" style="width:140px;"></select>
    </span>

    <span class="btn_group" style="margin-left:7px">
       <button type="button" class="btn blue" id="edit" style="width:52px; font-weight:bold">Edit</button>      
    </span>

    <span id="player" class="btn_group" style="margin-left:7px">
      <button type="button" class="btn" name="player" value="restart" style="width:32px"><i class="icon-white icon-repeat"></i></button>
      <button type="button" class="btn" name="player" value="pause" style="width:32px"><i class="icon-white icon-pause"></i></button>
      <button type="button" class="btn" name="player" value="step" style="width:32px"><i class="icon-white icon-step-forward"></i></button>
    </span>

    <span id="selectionmode" class="btn_group" style="margin-left:7px">
      <button type="button" class="btn segment" name="selectionmode" value="vertices" style="width:60px">Vertices</button>
      <button type="button" class="btn segment" name="selectionmode" value="edges" style="width:60px">Edge</button>
      <button type="button" class="btn segment" name="selectionmode" value="shapes" style="width:60px">Shapes</button>
      <button type="button" class="btn segment" name="selectionmode" value="bodies" style="width:60px">Bodies</button>
      <button type="button" class="btn segment" name="selectionmode" value="joints" style="width:60px">Joints</button>
    </span>    

    <span class="btn_group" style="margin-left:7px"> 
      <button type="button" class="btn" id="toggle_snap" style="width:52px">Snap</button>
    </span>

    <span class="btn_group" style="margin-left:7px">
      <button type="button" class="btn" id="toggle_settings" style="width:32px;"><i class="icon-white icon-cog"></i></button>
      <button type="button" class="btn" id="toggle_help" style="width:32px;"><i class="icon-white icon-question-sign"></i></button>
    </span>
  </div>
  <div style="display:table; width:100%; height:100%">
  <div id="sidebar">
    <div id="editmode_pannel" style="height:280px">      
      <span style="line-height:18px">Create Body</span>
      <div class="btn_group">  
        <button type="button" class="btn segment" name="editmode" value="create_circle" style="width:60px; height:30px">Circle</button>
        <button type="button" class="btn segment" name="editmode" value="create_triangle" style="width:60px; height:30px">Triangle</button>
        <button type="button" class="btn segment" name="editmode" value="create_box" style="width:60px; height:30px">Box</button>
        <button type="button" class="btn segment" name="editmode" value="create_hexagon" style="width:60px; height:30px">Hexagon</button>        
      </div>
      <div style="margin-top:3px"></div>
      <div class="btn_group">
        <button type="button" class="btn segment" name="editmode" value="create_poly" style="width:60px; height:30px">Polygon</button>
      </div>      
      <div style="margin-top:5px"></div>
      <span style="line-height:18px">Create Joint</span>
      <div class="btn_group">
        <button type="button" class="btn segment" name="editmode" value="create_angle_joint" style="width:60px; height:30px">Angle</button>
        <button type="button" class="btn segment" name="editmode" value="create_revolute_joint" style="width:60px; height:30px">Revolute</button>        
        <button type="button" class="btn segment" name="editmode" value="create_weld_joint" style="width:60px; height:30px">Weld</button>        
      </div>
      <div style="margin-top:3px"></div>
      <div class="btn_group">
        <button type="button" class="btn segment" name="editmode" value="create_line_joint" style="width:60px; height:30px">Line</button>
        <button type="button" class="btn segment" name="editmode" value="create_prismatic_joint" style="width:60px; height:30px">Prismatic</button>
        <button type="button" class="btn segment" name="editmode" value="create_distance_joint" style="width:60px; height:30px">Distance</button>        
      </div>      
      <div style="margin-top:5px"></div>
      <span style="line-height:18px">Transform</span>
      <div class="btn_group">
        <button type="button" class="btn segment" name="editmode" value="select" style="width:60px; height:30px">Select</button>
        <button type="button" class="btn segment" name="editmode" value="translate" style="width:60px; height:30px">Translate</button>
        <button type="button" class="btn segment" name="editmode" value="rotate" style="width:60px; height:30px">Rotate</button>
        <button type="button" class="btn segment" name="editmode" value="scale" style="width:60px; height:30px">Scale</button>
      </div>
      <div style="margin-top:5px"></div>
      <span style="line-height:18px">Other Tools</span>
      <div class="btn_group">
        <button type="button" class="btn segment" name="editmode" value="collapse_bodies" style="width:60px; height:30px">Collapse Bodies</button>
        <button type="button" class="btn segment" name="editmode" value="edge_slice" style="width:60px; height:30px">Edge Slice</button>
      </div>
    </div>
    <div id="vertex_inspector" class="pannel">
      <span class="title">Vertex Inspector</span>
      <ul>
        <li><label for="index">Index</label> <input type="number" name="index" readonly="true" /></li>
        <li><label for="position_x">Position X</label> <input type="number" name="position_x" /></li>
        <li><label for="position_y">Y</label> <input type="number" name="position_y" /></li>
      </ul>
    </div>
    <div id="edge_inspector" class="pannel">
      <span class="title">Edge Inspector</span>
      <ul>
        <li><label for="index">Index</label> <input type="number" name="index" readonly="true" /></li>
        <li><label for="v1_position_x">Vertex 1 Position X</label> <input type="number" name="v1_position_x" /></li>
        <li><label for="v1_position_y">Y</label> <input type="number" name="v1_position_y" /></li>
        <li><label for="v2_position_x">Vertex 2 Position X</label> <input type="number" name="v2_position_x" /></li>
        <li><label for="v2_position_y">Y</label> <input type="number" name="v2_position_y" /></li>
      </ul>
    </div>
    <div id="shape_inspector" class="pannel">
      <span class="title">Shape Inspector</span>
      <ul>
        <li><label for="type">Type</label> <input type="edit" name="type" readonly="true" /></li>
        <li><label for="radius">Radius</label> <input type="number" name="radius" /></li>
        <li><label for="density">Density</label> <input type="number" name="density" min="0.0000001" max="1" step="0.001" /></li>
        <li><label for="restitution">Restitution</label> <input type="number" name="restitution" min="0" max="1" step="0.05" /></li>
        <li><label for="friction">Friction</label> <input type="number" name="friction" min="0" max="1" step="0.05" /></li>        
      </ul>
    </div>
    <div id="body_inspector" class="pannel">
      <span class="title">Body Inspector</span>
      <ul>
        <li>
          <label for="type">Type</label> <select name="type">
            <option>Static</option>
            <option>Kinetic</option>
            <option>Dynamic</option>
          </select>
        </li>
        <li><label for="name">Name</label> <input type="edit" name="name" /></li>        
        <li><label for="position_x">Position X</label> <input type="number" name="position_x" /></li>
        <li><label for="position_y">Y</label> <input type="number" name="position_y" /></li>
        <li><label for="rotation">Angle</label> <input type="number" name="angle" step="10" /></li>
        <li><label for="mass">Mass</label> <input type="number" name="mass" min="0" step="0.1" /></li>
        <li><label for="inertia">Inertia</label> <input type="number" name="inertia" readonly="true" /></li>
      </ul>
    </div>
    <div id="joint_inspector" class="pannel">
      <span class="title">Joint Inspector</span>
      <ul>
        <li><label for="type">Type</label> <input type="edit" name="type" readonly="true" /></li>
        <li><label for="body1">Anchor1 Body</label> <input type="edit" name="body1" readonly="true" /></li>
        <li><label for="body2">Anchor2 Body</label> <input type="edit" name="body2" readonly="true" /></li>
        <li><label for="anchor_position_x">Anchor Position X</label> <input type="number" name="anchor_position_x" /></li>
        <li><label for="anchor_position_y">Y</label> <input type="number" name="anchor_position_y" /></li>
        <li><label for="max_force">Max Force</label> <input type="number" name="max_force" /></li>
        <li><label for="breakable">Breakable</label> <input type="checkbox" name="breakable" /></li>
        <li><label for="collide_connected">CollideConnected</label> <input type="checkbox" name="collide_connected" /></li>
        <li><label for="enable_limit">Enable Limit</label> <input type="checkbox" name="enable_limit" /></li>
        <li><label for="limit_lower_angle">Lower Limit Angle</label> <input type="number" name="limit_lower_angle" min="-360" max="360" step="1" /></li>
        <li><label for="limit_upper_angle">Upper Limit Angle</label> <input type="number" name="limit_upper_angle" min="-360" max="360" step="1" /></li>
        <li><label for="enable_motor">Enable Motor</label> <input type="checkbox" name="enable_motor" /></li>
        <li><label for="mortor_speed">Motor Speed</label> <input type="number" name="motor_speed" /></li>
        <li><label for="max_mortor_torque">Max Motor Torque</label> <input type="number" name="max_motor_torque" /></li>
        <li><label for="spring_frequency_hz">Spring Frequency</label> <input type="number" name="spring_frequency_hz" min="0" /></li>
        <li><label for="spring_damping_ratio">Spring Damping Ratio</label> <input type="number" name="spring_damping_ratio" min="0" step="0.1" /></li>
      </ul>
    </div>
  </div>
  <div id="main_view">
    <canvas id="canvas"></canvas>
    <div id="info"></div>
    <div id="settings">
      <div style="text-align:right">
        <label for="gravity">Gravity: </label><input type="number" id="gravity" size="8" min="-999" max="999" /><br />
        <label for="frameRateHz">Frame rate: </label><input type="number" id="frameRateHz" size="5" min="10" max="120" /><br />
        <label for="v_iters">Velocity iters: </label><input type="number" id="v_iters" size="5" min="1" max="100" /><br />
        <label for="p_iters">Position iters: </label><input type="number" id="p_iters" size="5" min="0" max="100" /><br />
      </div>
      <div>
        <input type="checkbox" id="warmStarting" checked="true" />Warm starting<br />
        <input type="checkbox" id="allowSleep" checked="true" />Allow sleep<br />
        <input type="checkbox" id="enableDirtyRect" checked="true" />Enable dirty rect<br />
        <input type="checkbox" id="showDirtyRect" />Show dirty rect<br />
        <input type="checkbox" id="showAxis" />Show axis<br />
        <input type="checkbox" id="showJoints" checked="true" />Show joints<br />
        <input type="checkbox" id="showBounds" />Show bounding boxes<br />        
        <input type="checkbox" id="showContacts" />Show contacts<br />
        <input type="checkbox" id="showStats" />Show statistics<br />      
      </div>
    </div>    
  </div>
  <div id="help">
    <div style="text-align:center"><h2>PhysicsToy</h2></div>
    Keyboard Shortcuts
    <ul>
      <li>Ctrl + E : Switch editor/simulator</li>
      <li>1 : Vertex selection mode</li>
      <li>2 : Edge selection mode</li>
      <li>3 : Shape selection mode</li>
      <li>4 : Body selection mode</li>
      <li>5 : Joint selection mode</li>
      <li>q : Select</li>
      <li>w : Translate</li>
      <li>e : Rotate</li>
      <li>r : Scale</li>    
    </ul>
    <div style="text-align:right">Programmed by Lee Ju Hyung (<a href="http://twitter.com/juhlnet">twitter.com/juhlnet</a>)</div>
  </div>
  </div>
</body>
</html>
